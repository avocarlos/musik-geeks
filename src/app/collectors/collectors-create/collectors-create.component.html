<app-list-header [title]="title"></app-list-header>
<div class="container mt-5 mb-5">
  <div class="row">
    <div class="col-12 col-md-6">

      <form
        [formGroup]="collectorForm"
        (ngSubmit)="!collectorForm.invalid && createCollector(collectorForm.value)"
      >
        <div class="form-group mx-sm-3 mb-2">
          <label for="name"> Name* </label>
          <input
            novalidate
            required
            id="name"
            class="form-control"
            formControlName="name"
            placeholder="Your Full Name"
          />
          <div
            class="alert alert-danger alert-dismissible fade show"
            *ngIf="
            collectorForm.get('name').hasError('required') &&
            collectorForm.get('name').touched
            "
          >
            Name required
          </div>
          <div
            class="alert alert-danger alert-dismissible fade show"
            *ngIf="
            collectorForm.get('name').hasError('minlength') &&
            collectorForm.get('name').touched
            "
          >
            Name too short. It should be at least 2 characters
          </div>
        </div>

        <div class="form-group mx-sm-3 mb-2">
          <label for="email"> Email* </label>
          <input
            required
            id="email"
            type="text"
            class="form-control"
            formControlName="email"
            placeholder="Your Email"
          />
          <div
            class="alert alert-danger alert-dismissible fade show"
            *ngIf="
            collectorForm.get('email').hasError('required') &&
            collectorForm.get('email').touched
            "
          >
            Email required
          </div>
          <div
            class="alert alert-danger alert-dismissible fade show"
            *ngIf="
            collectorForm.get('email').touched &&
            collectorForm.get('email').hasError('email')
            "
          >
            Incorrect email format. It must include @
          </div>
        </div>

        <div class="form-group mx-sm-3 mb-2">
          <label for="telephone"> Telephone* </label>
          <input
            required
            id="telephone"
            type="text"
            class="form-control"
            formControlName="telephone"
            placeholder="Your telephone"
          />
          <div
            class="alert alert-danger alert-dismissible fade show"
            *ngIf="
            collectorForm.get('telephone').hasError('minlength') &&
            collectorForm.get('telephone').touched
            "
          >
          telephone required
          </div>
          <div
            class="alert alert-danger alert-dismissible fade show"
            *ngIf="
            collectorForm.get('telephone').touched &&
            collectorForm.get('telephone').hasError('telephone')
            "
          >
            Incorrect telephone format. It must include @
          </div>
        </div>
        <div class="form-group mx-sm-12 mb-12">
          <button
            type="submit"
            class="btn btn-primary"
            [disabled]="!collectorForm.valid"
          >
            Crear Coleccionista
          </button>
          <button
            type="button"
            class="btn btn-danger ml-3"
            (click)="cancelCreation()"
          >Cancel</button>
        </div>
      </form>
    </div>
  </div>
</div>

